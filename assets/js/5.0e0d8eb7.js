(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{142:function(e,t,n){n(16).__DEV__;var a=n(12),i=n(420),o=n(18).parsePercent,r=n(50),s=r.createScaleByModel,l=r.niceScaleExtent,d=n(49),c=n(33).getStackedDimension;function u(e,t){var n=this,i=n.getAngleAxis(),o=n.getRadiusAxis();if(i.scale.setExtent(1/0,-1/0),o.scale.setExtent(1/0,-1/0),e.eachSeries(function(e){if(e.coordinateSystem===n){var t=e.getData();a.each(t.mapDimension("radius",!0),function(e){o.scale.unionExtentFromData(t,c(t,e))}),a.each(t.mapDimension("angle",!0),function(e){i.scale.unionExtentFromData(t,c(t,e))})}}),l(i.scale,i.model),l(o.scale,o.model),"category"===i.type&&!i.onBand){var r=i.getExtent(),s=360/i.scale.count();i.inverse?r[1]+=s:r[1]-=s,i.setExtent(r[0],r[1])}}function h(e,t){if(e.type=t.get("type"),e.scale=s(t),e.onBand=t.get("boundaryGap")&&"category"===e.type,e.inverse=t.get("inverse"),"angleAxis"===t.mainType){e.inverse^=t.get("clockwise");var n=t.get("startAngle");e.setExtent(n,n+(e.inverse?-360:360))}t.axis=e,e.model=t}n(423);var g={dimensions:i.prototype.dimensions,create:function(e,t){var n=[];return e.eachComponent("polar",function(e,a){var r=new i(a);r.update=u;var s=r.getRadiusAxis(),l=r.getAngleAxis(),d=e.findAxisModel("radiusAxis"),c=e.findAxisModel("angleAxis");h(s,d),h(l,c),function(e,t,n){var a=t.get("center"),i=n.getWidth(),r=n.getHeight();e.cx=o(a[0],i),e.cy=o(a[1],r);var s=e.getRadiusAxis(),l=Math.min(i,r)/2,d=o(t.get("radius"),l);s.inverse?s.setExtent(d,0):s.setExtent(0,d)}(r,e,t),n.push(r),e.coordinateSystem=r,r.model=e}),e.eachSeries(function(t){if("polar"===t.get("coordinateSystem")){var n=e.queryComponents({mainType:"polar",index:t.get("polarIndex"),id:t.get("polarId")})[0];t.coordinateSystem=n.coordinateSystem}}),n}};d.register("polar",g)},223:function(e,t,n){var a=n(13);function i(e){e.eachEdge(function(e){var t=e.getModel().get("lineStyle.curveness")||0,n=a.clone(e.node1.getLayout()),i=a.clone(e.node2.getLayout()),o=[n,i];+t&&o.push([(n[0]+i[0])/2-(n[1]-i[1])*t,(n[1]+i[1])/2-(i[0]-n[0])*t]),e.setLayout(o)})}t.simpleLayout=function(e){var t=e.coordinateSystem;if(!t||"view"===t.type){var n=e.getGraph();n.eachNode(function(e){var t=e.getModel();e.setLayout([+t.get("x"),+t.get("y")])}),i(n)}},t.simpleLayoutEdge=i},224:function(e,t,n){var a=n(13);t.circularLayout=function(e){var t=e.coordinateSystem;if(!t||"view"===t.type){var n=t.getBoundingRect(),i=e.getData(),o=i.graph,r=0,s=i.getSum("value"),l=2*Math.PI/(s||i.count()),d=n.width/2+n.x,c=n.height/2+n.y,u=Math.min(n.width,n.height)/2;o.eachNode(function(e){var t=e.getValue("value");r+=l*(s?t:1)/2,e.setLayout([u*Math.cos(r)+d,u*Math.sin(r)+c]),r+=l*(s?t:1)/2}),i.setLayout({cx:d,cy:c}),o.eachEdge(function(e){var t,n=e.getModel().get("lineStyle.curveness")||0,i=a.clone(e.node1.getLayout()),o=a.clone(e.node2.getLayout()),r=(i[0]+o[0])/2,s=(i[1]+o[1])/2;+n&&(t=[d*(n*=3)+r*(1-n),c*n+s*(1-n)]),e.setLayout([i,o,t])})}}},225:function(e,t,n){var a=n(12),i=n(30),o=n(15),r=n(91),s=n(47),l=n(132),d=(0,n(14).makeInner)(),c=a.clone,u=a.bind;function h(){}function g(e,t,n,i){(function e(t,n){if(a.isObject(t)&&a.isObject(n)){var i=!0;return a.each(n,function(n,a){i=i&&e(t[a],n)}),!!i}return t===n})(d(n).lastProp,i)||(d(n).lastProp=i,t?o.updateProps(n,i,e):(n.stopAnimation(),n.attr(i)))}function p(e,t){e[t.get("label.show")?"show":"hide"]()}function f(e){return{position:e.position.slice(),rotation:e.rotation||0}}function m(e,t,n){var a=t.get("z"),i=t.get("zlevel");e&&e.traverse(function(e){"group"!==e.type&&(null!=a&&(e.z=a),null!=i&&(e.zlevel=i),e.silent=n)})}h.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(e,t,n,i){var r=t.get("value"),s=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=n,i||this._lastValue!==r||this._lastStatus!==s){this._lastValue=r,this._lastStatus=s;var l=this._group,d=this._handle;if(!s||"hide"===s)return l&&l.hide(),void(d&&d.hide());l&&l.show(),d&&d.show();var c={};this.makeElOption(c,r,e,t,n);var u=c.graphicKey;u!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=u;var h=this._moveAnimation=this.determineAnimation(e,t);if(l){var p=a.curry(g,t,h);this.updatePointerEl(l,c,p,t),this.updateLabelEl(l,c,p,t)}else l=this._group=new o.Group,this.createPointerEl(l,c,e,t),this.createLabelEl(l,c,e,t),n.getZr().add(l);m(l,t,!0),this._renderHandle(r)}},remove:function(e){this.clear(e)},dispose:function(e){this.clear(e)},determineAnimation:function(e,t){var n=t.get("animation"),a=e.axis,i="category"===a.type,o=t.get("snap");if(!o&&!i)return!1;if("auto"===n||null==n){var s=this.animationThreshold;if(i&&a.getBandWidth()>s)return!0;if(o){var l=r.getAxisInfo(e).seriesDataCount,d=a.getExtent();return Math.abs(d[0]-d[1])/l>s}return!1}return!0===n},makeElOption:function(e,t,n,a,i){},createPointerEl:function(e,t,n,a){var i=t.pointer;if(i){var r=d(e).pointerEl=new o[i.type](c(t.pointer));e.add(r)}},createLabelEl:function(e,t,n,a){if(t.label){var i=d(e).labelEl=new o.Rect(c(t.label));e.add(i),p(i,a)}},updatePointerEl:function(e,t,n){var a=d(e).pointerEl;a&&(a.setStyle(t.pointer.style),n(a,{shape:t.pointer.shape}))},updateLabelEl:function(e,t,n,a){var i=d(e).labelEl;i&&(i.setStyle(t.label.style),n(i,{shape:t.label.shape,position:t.label.position}),p(i,a))},_renderHandle:function(e){if(!this._dragging&&this.updateHandleTransform){var t,n=this._axisPointerModel,i=this._api.getZr(),r=this._handle,d=n.getModel("handle"),c=n.get("status");if(!d.get("show")||!c||"hide"===c)return r&&i.remove(r),void(this._handle=null);this._handle||(t=!0,r=this._handle=o.createIcon(d.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(e){s.stop(e.event)},onmousedown:u(this._onHandleDragMove,this,0,0),drift:u(this._onHandleDragMove,this),ondragend:u(this._onHandleDragEnd,this)}),i.add(r)),m(r,n,!1);r.setStyle(d.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var h=d.get("size");a.isArray(h)||(h=[h,h]),r.attr("scale",[h[0]/2,h[1]/2]),l.createOrUpdate(this,"_doDispatchAxisPointer",d.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,t)}},_moveHandleToValue:function(e,t){g(this._axisPointerModel,!t&&this._moveAnimation,this._handle,f(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(e,t){var n=this._handle;if(n){this._dragging=!0;var a=this.updateHandleTransform(f(n),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=a,n.stopAnimation(),n.attr(f(a)),d(n).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var e=this._payloadInfo,t=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:t.axis.dim,axisIndex:t.componentIndex}]})}},_onHandleDragEnd:function(e){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),n=this._group,a=this._handle;t&&n&&(this._lastGraphicKey=null,n&&t.remove(n),a&&t.remove(a),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(e,t,n){return{x:e[n=n||0],y:e[1-n],width:t[n],height:t[1-n]}}},h.prototype.constructor=h,i.enableClassExtend(h);var y=h;e.exports=y},226:function(e,t,n){var a=n(12),i=n(15),o=n(41),r=n(25),s=n(27),l=n(50),d=n(90);function c(e,t,n,a,i){var s=u(n.get("value"),t.axis,t.ecModel,n.get("seriesDataIndices"),{precision:n.get("label.precision"),formatter:n.get("label.formatter")}),l=n.getModel("label"),d=r.normalizeCssArray(l.get("padding")||0),c=l.getFont(),h=o.getBoundingRect(s,c),g=i.position,p=h.width+d[1]+d[3],f=h.height+d[0]+d[2],m=i.align;"right"===m&&(g[0]-=p),"center"===m&&(g[0]-=p/2);var y=i.verticalAlign;"bottom"===y&&(g[1]-=f),"middle"===y&&(g[1]-=f/2),function(e,t,n,a){var i=a.getWidth(),o=a.getHeight();e[0]=Math.min(e[0]+t,i)-t,e[1]=Math.min(e[1]+n,o)-n,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}(g,p,f,a);var v=l.get("backgroundColor");v&&"auto"!==v||(v=t.get("axisLine.lineStyle.color")),e.label={shape:{x:0,y:0,width:p,height:f,r:l.get("borderRadius")},position:g.slice(),style:{text:s,textFont:c,textFill:l.getTextColor(),textPosition:"inside",fill:v,stroke:l.get("borderColor")||"transparent",lineWidth:l.get("borderWidth")||0,shadowBlur:l.get("shadowBlur"),shadowColor:l.get("shadowColor"),shadowOffsetX:l.get("shadowOffsetX"),shadowOffsetY:l.get("shadowOffsetY")},z2:10}}function u(e,t,n,i,o){e=t.scale.parse(e);var r=t.scale.getLabel(e,{precision:o.precision}),s=o.formatter;if(s){var d={value:l.getAxisRawValue(t,e),seriesData:[]};a.each(i,function(e){var t=n.getSeriesByIndex(e.seriesIndex),a=e.dataIndexInside,i=t&&t.getDataParams(a);i&&d.seriesData.push(i)}),a.isString(s)?r=s.replace("{value}",r):a.isFunction(s)&&(r=s(d))}return r}function h(e,t,n){var a=s.create();return s.rotate(a,a,n.rotation),s.translate(a,a,n.position),i.applyTransform([e.dataToCoord(t),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],a)}t.buildElStyle=function(e){var t,n=e.get("type"),a=e.getModel(n+"Style");return"line"===n?(t=a.getLineStyle()).fill=null:"shadow"===n&&((t=a.getAreaStyle()).stroke=null),t},t.buildLabelElOption=c,t.getValueLabel=u,t.getTransformedPosition=h,t.buildCartesianSingleLabelElOption=function(e,t,n,a,i,o){var r=d.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=i.get("label.margin"),c(t,a,i,o,{position:h(a.axis,e,n),align:r.textAlign,verticalAlign:r.textVerticalAlign})},t.makeLineShape=function(e,t,n){return{x1:e[n=n||0],y1:e[1-n],x2:t[n],y2:t[1-n]}},t.makeRectShape=function(e,t,n){return{x:e[n=n||0],y:e[1-n],width:t[n],height:t[1-n]}},t.makeSectorShape=function(e,t,n,a,i,o){return{cx:e,cy:t,r0:n,r:a,startAngle:i,endAngle:o,clockwise:!0}}},395:function(e,t,n){var a=n(17);n(396),n(400),n(406);var i=n(409),o=n(139),r=n(410),s=n(411),l=n(412),d=n(413),c=n(414),u=n(416);a.registerProcessor(i),a.registerVisual(o("graph","circle",null)),a.registerVisual(r),a.registerVisual(s),a.registerLayout(l),a.registerLayout(d),a.registerLayout(c),a.registerCoordinateSystem("graphView",{create:u})},396:function(e,t,n){var a=n(17),i=n(67),o=n(12),r=n(14).defaultEmphasis,s=n(29),l=n(25).encodeHTML,d=n(397),c=a.extendSeriesModel({type:"series.graph",init:function(e){c.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},mergeOption:function(e){c.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(e){c.superApply(this,"mergeDefaultAndTheme",arguments),r(e,["edgeLabel"],["show"])},getInitialData:function(e,t){var n=e.edges||e.links||[],a=e.data||e.nodes||[],i=this;if(a&&n)return d(a,n,this,!0,function(e,n){e.wrapMethod("getItemModel",function(e){var t=i._categoriesModels[e.getShallow("category")];return t&&(t.parentModel=e.parentModel,e.parentModel=t),e});var a=i.getModel("edgeLabel"),o=new s({label:a.option},a.parentModel,t),r=i.getModel("emphasis.edgeLabel"),l=new s({emphasis:{label:r.option}},r.parentModel,t);function d(e){return(e=this.parsePath(e))&&"label"===e[0]?o:e&&"emphasis"===e[0]&&"label"===e[1]?l:this.parentModel}n.wrapMethod("getItemModel",function(e){return e.customizeGetParent(d),e})}).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(e,t,n){if("edge"===n){var a=this.getData(),i=this.getDataParams(e,n),o=a.graph.getEdgeByIndex(e),r=a.getName(o.node1.dataIndex),s=a.getName(o.node2.dataIndex),d=[];return null!=r&&d.push(r),null!=s&&d.push(s),d=l(d.join(" > ")),i.value&&(d+=" : "+l(i.value)),d}return c.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var e=o.map(this.option.categories||[],function(e){return null!=e.value?e:o.extend({value:0},e)}),t=new i(["value"],this);t.initData(e),this._categoriesData=t,this._categoriesModels=t.mapArray(function(e){return t.getItemModel(e,!0)})},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},isAnimationEnabled:function(){return c.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle"},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{label:{show:!0}}}}),u=c;e.exports=u},397:function(e,t,n){var a=n(12),i=n(67),o=n(398),r=n(399),s=n(134),l=n(49),d=n(87);e.exports=function(e,t,n,c,u){for(var h=new o(c),g=0;g<e.length;g++)h.addNode(a.retrieve(e[g].id,e[g].name,g),g);var p=[],f=[],m=0;for(g=0;g<t.length;g++){var y=t[g],v=y.source,x=y.target;h.addEdge(v,x,m)&&(f.push(y),p.push(a.retrieve(y.id,v+" > "+x)),m++)}var _,A=n.get("coordinateSystem");if("cartesian2d"===A||"polar"===A)_=d(e,n);else{var I=l.get(A),w=I&&"view"!==I.type&&I.dimensions||[];a.indexOf(w,"value")<0&&w.concat(["value"]);var M=s(e,{coordDimensions:w});(_=new i(M,n)).initData(e)}var b=new i(["value"],n);return b.initData(f,p),u&&u(_,b),r({mainData:_,struct:h,structAttr:"graph",datas:{node:_,edge:b},datasAttr:{node:"data",edge:"edgeData"}}),h.update(),h}},398:function(e,t,n){n(16).__DEV__;var a=n(12),i=n(30).enableClassCheck;function o(e){return"_EC_"+e}var r=function(e){this._directed=e||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},s=r.prototype;function l(e,t){this.id=null==e?"":e,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==t?-1:t}function d(e,t,n){this.node1=e,this.node2=t,this.dataIndex=null==n?-1:n}s.type="graph",s.isDirected=function(){return this._directed},s.addNode=function(e,t){e=e||""+t;var n=this._nodesMap;if(!n[o(e)]){var a=new l(e,t);return a.hostGraph=this,this.nodes.push(a),n[o(e)]=a,a}},s.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},s.getNodeById=function(e){return this._nodesMap[o(e)]},s.addEdge=function(e,t,n){var a=this._nodesMap,i=this._edgesMap;if("number"==typeof e&&(e=this.nodes[e]),"number"==typeof t&&(t=this.nodes[t]),l.isInstance(e)||(e=a[o(e)]),l.isInstance(t)||(t=a[o(t)]),e&&t){var r=e.id+"-"+t.id;if(!i[r]){var s=new d(e,t,n);return s.hostGraph=this,this._directed&&(e.outEdges.push(s),t.inEdges.push(s)),e.edges.push(s),e!==t&&t.edges.push(s),this.edges.push(s),i[r]=s,s}}},s.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},s.getEdge=function(e,t){l.isInstance(e)&&(e=e.id),l.isInstance(t)&&(t=t.id);var n=this._edgesMap;return this._directed?n[e+"-"+t]:n[e+"-"+t]||n[t+"-"+e]},s.eachNode=function(e,t){for(var n=this.nodes,a=n.length,i=0;i<a;i++)n[i].dataIndex>=0&&e.call(t,n[i],i)},s.eachEdge=function(e,t){for(var n=this.edges,a=n.length,i=0;i<a;i++)n[i].dataIndex>=0&&n[i].node1.dataIndex>=0&&n[i].node2.dataIndex>=0&&e.call(t,n[i],i)},s.breadthFirstTraverse=function(e,t,n,a){if(l.isInstance(t)||(t=this._nodesMap[o(t)]),t){for(var i="out"===n?"outEdges":"in"===n?"inEdges":"edges",r=0;r<this.nodes.length;r++)this.nodes[r].__visited=!1;if(!e.call(a,t,null))for(var s=[t];s.length;){var d=s.shift(),c=d[i];for(r=0;r<c.length;r++){var u=c[r],h=u.node1===d?u.node2:u.node1;if(!h.__visited){if(e.call(a,h,d))return;s.push(h),h.__visited=!0}}}}},s.update=function(){for(var e=this.data,t=this.edgeData,n=this.nodes,a=this.edges,i=0,o=n.length;i<o;i++)n[i].dataIndex=-1;for(i=0,o=e.count();i<o;i++)n[e.getRawIndex(i)].dataIndex=i;t.filterSelf(function(e){var n=a[t.getRawIndex(e)];return n.node1.dataIndex>=0&&n.node2.dataIndex>=0});for(i=0,o=a.length;i<o;i++)a[i].dataIndex=-1;for(i=0,o=t.count();i<o;i++)a[t.getRawIndex(i)].dataIndex=i},s.clone=function(){for(var e=new r(this._directed),t=this.nodes,n=this.edges,a=0;a<t.length;a++)e.addNode(t[a].id,t[a].dataIndex);for(a=0;a<n.length;a++){var i=n[a];e.addEdge(i.node1.id,i.node2.id,i.dataIndex)}return e},l.prototype={constructor:l,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(e){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(e)}},d.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(e)};var c=function(e,t){return{getValue:function(n){var a=this[e][t];return a.get(a.getDimension(n||"value"),this.dataIndex)},setVisual:function(n,a){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,n,a)},getVisual:function(n,a){return this[e][t].getItemVisual(this.dataIndex,n,a)},setLayout:function(n,a){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,n,a)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}};a.mixin(l,c("hostGraph","data")),a.mixin(d,c("hostGraph","edgeData")),r.Node=l,r.Edge=d,i(l),i(d);var u=r;e.exports=u},399:function(e,t,n){var a=n(12),i=a.each,o="\0__link_datas",r="\0__link_mainData";function s(e,t){if((i=this)[r]===i){var n=a.extend({},this[o]);n[this.dataType]=t,u(t,n,e)}else h(t,this.dataType,this[r],e);var i;return t}function l(e,t){return e.struct&&e.struct.update(this),t}function d(e,t){return i(t[o],function(n,a){n!==t&&h(n.cloneShallow(),a,t,e)}),t}function c(e){var t=this[r];return null==e||null==t?t:t[o][e]}function u(e,t,n){e[o]={},i(t,function(t,a){h(t,a,e,n)})}function h(e,t,n,a){n[o][t]=e,e[r]=n,e.dataType=t,a.struct&&(e[a.structAttr]=a.struct,a.struct[a.datasAttr[t]]=e),e.getLinkedData=c}var g=function(e){var t=e.mainData,n=e.datas;n||(n={main:t},e.datasAttr={main:"data"}),e.datas=e.mainData=null,u(t,n,e),i(n,function(n){i(t.TRANSFERABLE_METHODS,function(t){n.wrapMethod(t,a.curry(s,e))})}),t.wrapMethod("cloneShallow",a.curry(d,e)),i(t.CHANGABLE_METHODS,function(n){t.wrapMethod(n,a.curry(l,e))}),a.assert(n[t.dataType]===t)};e.exports=g},400:function(e,t,n){var a=n(17),i=n(12),o=n(137),r=n(218),s=n(401),l=n(403),d=n(404).onIrrelevantElement,c=n(15),u=n(405),h="__focusNodeAdjacency",g=["itemStyle","opacity"],p=["lineStyle","opacity"];function f(e,t){return e.getVisual("opacity")||e.getModel().get(t)}function m(e,t,n){var a=e.getGraphicEl(),i=f(e,t);null!=n&&(null==i&&(i=1),i*=n),a.downplay&&a.downplay(),a.traverse(function(e){if("group"!==e.type){var t=e.lineLabelOriginalOpacity;null!=t&&null==n||(t=i),e.setStyle("opacity",t)}})}function y(e,t){var n=f(e,t),a=e.getGraphicEl();a.highlight&&a.highlight(),a.traverse(function(e){"group"!==e.type&&e.setStyle("opacity",n)})}var v=a.extendChartView({type:"graph",init:function(e,t){var n=new o,a=new r,i=this.group;this._controller=new s(t.getZr()),this._controllerHost={target:i},i.add(n.group),i.add(a.group),this._symbolDraw=n,this._lineDraw=a,this._firstRender=!0},render:function(e,t,n){var a=e.coordinateSystem;this._model=e,this._nodeScaleRatio=e.get("nodeScaleRatio");var i=this._symbolDraw,o=this._lineDraw,r=this.group;if("view"===a.type){var s={position:a.position,scale:a.scale};this._firstRender?r.attr(s):c.updateProps(r,s,e)}u(e.getGraph(),this._getNodeGlobalScale(e));var l=e.getData();i.updateData(l);var d=e.getEdgeData();o.updateData(d),this._updateNodeAndLinkScale(),this._updateController(e,t,n),clearTimeout(this._layoutTimeout);var g=e.forceLayout,p=e.get("force.layoutAnimation");g&&this._startForceLayoutIteration(g,p),l.eachItemGraphicEl(function(t,a){var i=l.getItemModel(a);t.off("drag").off("dragend");var o=i.get("draggable");o&&t.on("drag",function(){g&&(g.warmUp(),!this._layouting&&this._startForceLayoutIteration(g,p),g.setFixed(a),l.setItemLayout(a,t.position))},this).on("dragend",function(){g&&g.setUnfixed(a)},this),t.setDraggable(o&&g),t[h]&&t.off("mouseover",t[h]),t.__unfocusNodeAdjacency&&t.off("mouseout",t.__unfocusNodeAdjacency),i.get("focusNodeAdjacency")&&(t.on("mouseover",t[h]=function(){n.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,dataIndex:t.dataIndex})}),t.on("mouseout",t.__unfocusNodeAdjacency=function(){n.dispatchAction({type:"unfocusNodeAdjacency",seriesId:e.id})}))},this),l.graph.eachEdge(function(t){var a=t.getGraphicEl();a[h]&&a.off("mouseover",a[h]),a.__unfocusNodeAdjacency&&a.off("mouseout",a.__unfocusNodeAdjacency),t.getModel().get("focusNodeAdjacency")&&(a.on("mouseover",a[h]=function(){n.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,edgeDataIndex:t.dataIndex})}),a.on("mouseout",a.__unfocusNodeAdjacency=function(){n.dispatchAction({type:"unfocusNodeAdjacency",seriesId:e.id})}))});var f="circular"===e.get("layout")&&e.get("circular.rotateLabel"),m=l.getLayout("cx"),y=l.getLayout("cy");l.eachItemGraphicEl(function(e,t){var n=e.getSymbolPath();if(f){var a=l.getItemLayout(t),i=Math.atan2(a[1]-y,a[0]-m);i<0&&(i=2*Math.PI+i);var o=a[0]<m;o&&(i-=Math.PI);var r=o?"left":"right";n.setStyle({textRotation:-i,textPosition:r,textOrigin:"center"}),n.hoverStyle&&(n.hoverStyle.textPosition=r)}else n.setStyle({textRotation:0})}),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},focusNodeAdjacency:function(e,t,n,a){var o=this._model.getData().graph,r=a.dataIndex,s=a.edgeDataIndex,l=o.getNodeByIndex(r),d=o.getEdgeByIndex(s);(l||d)&&(o.eachNode(function(e){m(e,g,.1)}),o.eachEdge(function(e){m(e,p,.1)}),l&&(y(l,g),i.each(l.edges,function(e){e.dataIndex<0||(y(e,p),y(e.node1,g),y(e.node2,g))})),d&&(y(d,p),y(d.node1,g),y(d.node2,g)))},unfocusNodeAdjacency:function(e,t,n,a){var i=this._model.getData().graph;i.eachNode(function(e){m(e,g)}),i.eachEdge(function(e){m(e,p)})},_startForceLayoutIteration:function(e,t){var n=this;!function a(){e.step(function(e){n.updateLayout(n._model),(n._layouting=!e)&&(t?n._layoutTimeout=setTimeout(a,16):a())})}()},_updateController:function(e,t,n){var a=this._controller,i=this._controllerHost,o=this.group;a.setPointerChecker(function(t,a,i){var r=o.getBoundingRect();return r.applyTransform(o.transform),r.contain(a,i)&&!d(t,n,e)}),"view"===e.coordinateSystem.type?(a.enable(e.get("roam")),i.zoomLimit=e.get("scaleLimit"),i.zoom=e.coordinateSystem.getZoom(),a.off("pan").off("zoom").on("pan",function(t){l.updateViewOnPan(i,t.dx,t.dy),n.dispatchAction({seriesId:e.id,type:"graphRoam",dx:t.dx,dy:t.dy})}).on("zoom",function(t){l.updateViewOnZoom(i,t.scale,t.originX,t.originY),n.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),this._updateNodeAndLinkScale(),u(e.getGraph(),this._getNodeGlobalScale(e)),this._lineDraw.updateLayout()},this)):a.disable()},_updateNodeAndLinkScale:function(){var e=this._model,t=e.getData(),n=this._getNodeGlobalScale(e),a=[n,n];t.eachItemGraphicEl(function(e,t){e.attr("scale",a)})},_getNodeGlobalScale:function(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var n=this._nodeScaleRatio,a=t.scale,i=a&&a[0]||1;return((t.getZoom()-1)*n+1)/i},updateLayout:function(e){u(e.getGraph(),this._getNodeGlobalScale(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}});e.exports=v},401:function(e,t,n){var a=n(12),i=n(46),o=n(47),r=n(402);function s(e){this.pointerChecker,this._zr=e,this._opt={};var t=a.bind,n=t(l,this),o=t(d,this),r=t(c,this),s=t(u,this),g=t(h,this);i.call(this),this.setPointerChecker=function(e){this.pointerChecker=e},this.enable=function(t,i){this.disable(),this._opt=a.defaults(a.clone(i)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==t&&(t=!0),!0!==t&&"move"!==t&&"pan"!==t||(e.on("mousedown",n),e.on("mousemove",o),e.on("mouseup",r)),!0!==t&&"scale"!==t&&"zoom"!==t||(e.on("mousewheel",s),e.on("pinch",g))},this.disable=function(){e.off("mousedown",n),e.off("mousemove",o),e.off("mouseup",r),e.off("mousewheel",s),e.off("pinch",g)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function l(e){if(!(o.isMiddleOrRightButtonOnMouseUpDown(e)||e.target&&e.target.draggable)){var t=e.offsetX,n=e.offsetY;this.pointerChecker&&this.pointerChecker(e,t,n)&&(this._x=t,this._y=n,this._dragging=!0)}}function d(e){if(this._dragging&&f("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!r.isTaken(this._zr,"globalPan")){var t=e.offsetX,n=e.offsetY,a=this._x,i=this._y,s=t-a,l=n-i;this._x=t,this._y=n,this._opt.preventDefaultMouseMove&&o.stop(e.event),p(this,"pan","moveOnMouseMove",e,{dx:s,dy:l,oldX:a,oldY:i,newX:t,newY:n})}}function c(e){o.isMiddleOrRightButtonOnMouseUpDown(e)||(this._dragging=!1)}function u(e){var t=f("zoomOnMouseWheel",e,this._opt),n=f("moveOnMouseWheel",e,this._opt),a=e.wheelDelta,i=Math.abs(a),o=e.offsetX,r=e.offsetY;if(0!==a&&(t||n)){if(t){var s=i>3?1.4:i>1?1.2:1.1;g(this,"zoom","zoomOnMouseWheel",e,{scale:a>0?s:1/s,originX:o,originY:r})}if(n){var l=Math.abs(a);g(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:(a>0?1:-1)*(l>3?.4:l>1?.15:.05),originX:o,originY:r})}}}function h(e){r.isTaken(this._zr,"globalPan")||g(this,"zoom",null,e,{scale:e.pinchScale>1?1.1:1/1.1,originX:e.pinchX,originY:e.pinchY})}function g(e,t,n,a,i){e.pointerChecker&&e.pointerChecker(a,i.originX,i.originY)&&(o.stop(a.event),p(e,t,n,a,i))}function p(e,t,n,i,o){o.isAvailableBehavior=a.bind(f,null,n,i),e.trigger(t,o)}function f(e,t,n){var i=n[e];return!e||i&&(!a.isString(i)||t.event[i+"Key"])}a.mixin(s,i);var m=s;e.exports=m},402:function(e,t,n){var a=n(17),i="\0_ec_interaction_mutex";function o(e){return e[i]||(e[i]={})}a.registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),t.take=function(e,t,n){o(e)[t]=n},t.release=function(e,t,n){var a=o(e);a[t]===n&&(a[t]=null)},t.isTaken=function(e,t){return!!o(e)[t]}},403:function(e,t){t.updateViewOnPan=function(e,t,n){var a=e.target,i=a.position;i[0]+=t,i[1]+=n,a.dirty()},t.updateViewOnZoom=function(e,t,n,a){var i=e.target,o=e.zoomLimit,r=i.position,s=i.scale,l=e.zoom=e.zoom||1;if(l*=t,o){var d=o.min||0,c=o.max||1/0;l=Math.max(Math.min(c,l),d)}var u=l/e.zoom;e.zoom=l,r[0]-=(n-r[0])*(u-1),r[1]-=(a-r[1])*(u-1),s[0]*=u,s[1]*=u,i.dirty()}},404:function(e,t){var n={axisPointer:1,tooltip:1,brush:1};t.onIrrelevantElement=function(e,t,a){var i=t.getComponentByElement(e.topTarget),o=i&&i.coordinateSystem;return i&&i!==a&&!n[i.mainType]&&o&&o.model!==a}},405:function(e,t,n){var a=n(32),i=n(13),o=[],r=[],s=[],l=a.quadraticAt,d=i.distSquare,c=Math.abs;function u(e,t,n){for(var a,i=e[0],u=e[1],h=e[2],g=1/0,p=n*n,f=.1,m=.1;m<=.9;m+=.1){o[0]=l(i[0],u[0],h[0],m),o[1]=l(i[1],u[1],h[1],m),(x=c(d(o,t)-p))<g&&(g=x,a=m)}for(var y=0;y<32;y++){var v=a+f;r[0]=l(i[0],u[0],h[0],a),r[1]=l(i[1],u[1],h[1],a),s[0]=l(i[0],u[0],h[0],v),s[1]=l(i[1],u[1],h[1],v);var x=d(r,t)-p;if(c(x)<.01)break;var _=d(s,t)-p;f/=2,x<0?_>=0?a+=f:a-=f:_>=0?a-=f:a+=f}return a}e.exports=function(e,t){var n=[],o=a.quadraticSubdivide,r=[[],[],[]],s=[[],[]],l=[];function d(e){var t=e.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),t}t/=2,e.eachEdge(function(e,a){var c=e.getLayout(),h=e.getVisual("fromSymbol"),g=e.getVisual("toSymbol");c.__original||(c.__original=[i.clone(c[0]),i.clone(c[1])],c[2]&&c.__original.push(i.clone(c[2])));var p=c.__original;if(null!=c[2]){if(i.copy(r[0],p[0]),i.copy(r[1],p[2]),i.copy(r[2],p[1]),h&&"none"!==h){var f=d(e.node1),m=u(r,p[0],f*t);o(r[0][0],r[1][0],r[2][0],m,n),r[0][0]=n[3],r[1][0]=n[4],o(r[0][1],r[1][1],r[2][1],m,n),r[0][1]=n[3],r[1][1]=n[4]}if(g&&"none"!==g){f=d(e.node2),m=u(r,p[1],f*t);o(r[0][0],r[1][0],r[2][0],m,n),r[1][0]=n[1],r[2][0]=n[2],o(r[0][1],r[1][1],r[2][1],m,n),r[1][1]=n[1],r[2][1]=n[2]}i.copy(c[0],r[0]),i.copy(c[1],r[2]),i.copy(c[2],r[1])}else{if(i.copy(s[0],p[0]),i.copy(s[1],p[1]),i.sub(l,s[1],s[0]),i.normalize(l,l),h&&"none"!==h){f=d(e.node1);i.scaleAndAdd(s[0],s[0],l,f*t)}if(g&&"none"!==g){f=d(e.node2);i.scaleAndAdd(s[1],s[1],l,-f*t)}i.copy(c[0],s[0]),i.copy(c[1],s[1])}})}},406:function(e,t,n){var a=n(17),i=n(407).updateCenterAndZoom;n(408);a.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},function(e,t){t.eachComponent({mainType:"series",query:e},function(t){var n=t.coordinateSystem,a=i(n,e);t.setCenter&&t.setCenter(a.center),t.setZoom&&t.setZoom(a.zoom)})})},407:function(e,t){t.updateCenterAndZoom=function(e,t,n){var a=e.getZoom(),i=e.getCenter(),o=t.zoom,r=e.dataToPoint(i);if(null!=t.dx&&null!=t.dy){r[0]-=t.dx,r[1]-=t.dy;i=e.pointToData(r);e.setCenter(i)}if(null!=o){if(n){var s=n.min||0,l=n.max||1/0;o=Math.max(Math.min(a*o,l),s)/a}e.scale[0]*=o,e.scale[1]*=o;var d=e.position,c=(t.originX-d[0])*(o-1),u=(t.originY-d[1])*(o-1);d[0]-=c,d[1]-=u,e.updateTransform();i=e.pointToData(r);e.setCenter(i),e.setZoom(o*a)}return{center:e.getCenter(),zoom:e.getZoom()}}},408:function(e,t,n){var a=n(17);a.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},function(){}),a.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},function(){})},409:function(e,t){e.exports=function(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.eachSeriesByType("graph",function(e){var n=e.getCategoriesData(),a=e.getGraph().data,i=n.mapArray(n.getName);a.filterSelf(function(e){var n=a.getItemModel(e).getShallow("category");if(null!=n){"number"==typeof n&&(n=i[n]);for(var o=0;o<t.length;o++)if(!t[o].isSelected(n))return!1}return!0})},this)}},410:function(e,t){e.exports=function(e){var t={};e.eachSeriesByType("graph",function(e){var n=e.getCategoriesData(),a=e.getData(),i={};n.each(function(a){var o=n.getName(a);i["ec-"+o]=a;var r=n.getItemModel(a).get("itemStyle.color")||e.getColorFromPalette(o,t);n.setItemVisual(a,"color",r)}),n.count()&&a.each(function(e){var t=a.getItemModel(e).getShallow("category");null!=t&&("string"==typeof t&&(t=i["ec-"+t]),a.getItemVisual(e,"color",!0)||a.setItemVisual(e,"color",n.getItemVisual(t,"color")))})})}},411:function(e,t){function n(e){return e instanceof Array||(e=[e,e]),e}e.exports=function(e){e.eachSeriesByType("graph",function(e){var t=e.getGraph(),a=e.getEdgeData(),i=n(e.get("edgeSymbol")),o=n(e.get("edgeSymbolSize")),r="lineStyle.color".split("."),s="lineStyle.opacity".split(".");a.setVisual("fromSymbol",i&&i[0]),a.setVisual("toSymbol",i&&i[1]),a.setVisual("fromSymbolSize",o&&o[0]),a.setVisual("toSymbolSize",o&&o[1]),a.setVisual("color",e.get(r)),a.setVisual("opacity",e.get(s)),a.each(function(e){var i=a.getItemModel(e),o=t.getEdgeByIndex(e),l=n(i.getShallow("symbol",!0)),d=n(i.getShallow("symbolSize",!0)),c=i.get(r),u=i.get(s);switch(c){case"source":c=o.node1.getVisual("color");break;case"target":c=o.node2.getVisual("color")}l[0]&&o.setVisual("fromSymbol",l[0]),l[1]&&o.setVisual("toSymbol",l[1]),d[0]&&o.setVisual("fromSymbolSize",d[0]),d[1]&&o.setVisual("toSymbolSize",d[1]),o.setVisual("color",c),o.setVisual("opacity",u)})})}},412:function(e,t,n){var a=n(12).each,i=n(223),o=i.simpleLayout,r=i.simpleLayoutEdge;e.exports=function(e,t){e.eachSeriesByType("graph",function(e){var t=e.get("layout"),n=e.coordinateSystem;if(n&&"view"!==n.type){var i=e.getData(),s=[];a(n.dimensions,function(e){s=s.concat(i.mapDimension(e,!0))});for(var l=0;l<i.count();l++){for(var d=[],c=!1,u=0;u<s.length;u++){var h=i.get(s[u],l);isNaN(h)||(c=!0),d.push(h)}c?i.setItemLayout(l,n.dataToPoint(d)):i.setItemLayout(l,[NaN,NaN])}r(i.graph)}else t&&"none"!==t||o(e)})}},413:function(e,t,n){var a=n(224).circularLayout;e.exports=function(e){e.eachSeriesByType("graph",function(e){"circular"===e.get("layout")&&a(e)})}},414:function(e,t,n){var a=n(415).forceLayout,i=n(223).simpleLayout,o=n(224).circularLayout,r=n(18).linearMap,s=n(13),l=n(12);e.exports=function(e){e.eachSeriesByType("graph",function(e){if(!(y=e.coordinateSystem)||"view"===y.type)if("force"===e.get("layout")){var t=e.preservedPoints||{},n=e.getGraph(),d=n.data,c=n.edgeData,u=e.getModel("force"),h=u.get("initLayout");e.preservedPoints?d.each(function(e){var n=d.getId(e);d.setItemLayout(e,t[n]||[NaN,NaN])}):h&&"none"!==h?"circular"===h&&o(e):i(e);var g=d.getDataExtent("value"),p=c.getDataExtent("value"),f=u.get("repulsion"),m=u.get("edgeLength");l.isArray(f)||(f=[f,f]),l.isArray(m)||(m=[m,m]),m=[m[1],m[0]];var y,v=d.mapArray("value",function(e,t){var n=d.getItemLayout(t),a=r(e,g,f);return isNaN(a)&&(a=(f[0]+f[1])/2),{w:a,rep:a,fixed:d.getItemModel(t).get("fixed"),p:!n||isNaN(n[0])||isNaN(n[1])?null:n}}),x=c.mapArray("value",function(e,t){var a=n.getEdgeByIndex(t),i=r(e,p,m);return isNaN(i)&&(i=(m[0]+m[1])/2),{n1:v[a.node1.dataIndex],n2:v[a.node2.dataIndex],d:i,curveness:a.getModel().get("lineStyle.curveness")||0}}),_=(y=e.coordinateSystem).getBoundingRect(),A=a(v,x,{rect:_,gravity:u.get("gravity")}),I=A.step;A.step=function(e){for(var a=0,i=v.length;a<i;a++)v[a].fixed&&s.copy(v[a].p,n.getNodeByIndex(a).getLayout());I(function(a,i,o){for(var r=0,l=a.length;r<l;r++)a[r].fixed||n.getNodeByIndex(r).setLayout(a[r].p),t[d.getId(r)]=a[r].p;for(r=0,l=i.length;r<l;r++){var c=i[r],u=n.getEdgeByIndex(r),h=c.n1.p,g=c.n2.p,p=u.getLayout();(p=p?p.slice():[])[0]=p[0]||[],p[1]=p[1]||[],s.copy(p[0],h),s.copy(p[1],g),+c.curveness&&(p[2]=[(h[0]+g[0])/2-(h[1]-g[1])*c.curveness,(h[1]+g[1])/2-(g[0]-h[0])*c.curveness]),u.setLayout(p)}e&&e(o)})},e.forceLayout=A,e.preservedPoints=t,A.step()}else e.forceLayout=null})}},415:function(e,t,n){var a=n(13),i=a.scaleAndAdd;t.forceLayout=function(e,t,n){for(var o=n.rect,r=o.width,s=o.height,l=[o.x+r/2,o.y+s/2],d=null==n.gravity?.1:n.gravity,c=0;c<e.length;c++){var u=e[c];u.p||(u.p=a.create(r*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),u.pp=a.clone(u.p),u.edges=null}var h=.6;return{warmUp:function(){h=.5},setFixed:function(t){e[t].fixed=!0},setUnfixed:function(t){e[t].fixed=!1},step:function(n){for(var o=[],r=e.length,s=0;s<t.length;s++){var c=t[s],u=c.n1,g=c.n2;a.sub(o,g.p,u.p);var p=a.len(o)-c.d,f=g.w/(u.w+g.w);isNaN(f)&&(f=0),a.normalize(o,o),!u.fixed&&i(u.p,u.p,o,f*p*h),!g.fixed&&i(g.p,g.p,o,-(1-f)*p*h)}for(s=0;s<r;s++){(x=e[s]).fixed||(a.sub(o,l,x.p),i(x.p,x.p,o,d*h))}for(s=0;s<r;s++){u=e[s];for(var m=s+1;m<r;m++){g=e[m];a.sub(o,g.p,u.p),0===(p=a.len(o))&&(a.set(o,Math.random()-.5,Math.random()-.5),p=1);var y=(u.rep+g.rep)/p/p;!u.fixed&&i(u.pp,u.pp,o,y),!g.fixed&&i(g.pp,g.pp,o,-y)}}var v=[];for(s=0;s<r;s++){var x;(x=e[s]).fixed||(a.sub(v,x.p,x.pp),i(x.p,x.p,v,h),a.copy(x.pp,x.p))}h*=.992,n&&n(e,t,h<.01)}}}},416:function(e,t,n){var a=n(417),i=n(48).getLayoutRect,o=n(129);e.exports=function(e,t){var n=[];return e.eachSeriesByType("graph",function(e){var r=e.get("coordinateSystem");if(!r||"view"===r){var s=e.getData(),l=s.mapArray(function(e){var t=s.getItemModel(e);return[+t.get("x"),+t.get("y")]}),d=[],c=[];o.fromPoints(l,d,c),c[0]-d[0]==0&&(c[0]+=1,d[0]-=1),c[1]-d[1]==0&&(c[1]+=1,d[1]-=1);var u=(c[0]-d[0])/(c[1]-d[1]),h=function(e,t,n){var a=e.getBoxLayoutParams();return a.aspect=n,i(a,{width:t.getWidth(),height:t.getHeight()})}(e,t,u);isNaN(u)&&(d=[h.x,h.y],c=[h.x+h.width,h.y+h.height]);var g=c[0]-d[0],p=c[1]-d[1],f=h.width,m=h.height,y=e.coordinateSystem=new a;y.zoomLimit=e.get("scaleLimit"),y.setBoundingRect(d[0],d[1],g,p),y.setViewRect(h.x,h.y,f,m),y.setCenter(e.get("center")),y.setZoom(e.get("zoom")),n.push(y)}}),n}},417:function(e,t,n){var a=n(12),i=n(13),o=n(27),r=n(20),s=n(123),l=i.applyTransform;function d(){s.call(this)}function c(e){this.name=e,this.zoomLimit,s.call(this),this._roamTransformable=new d,this._rawTransformable=new d,this._center,this._zoom}function u(e,t,n,a){var i=n.seriesModel,o=i?i.coordinateSystem:null;return o===this?o[e](a):null}a.mixin(d,s),c.prototype={constructor:c,type:"view",dimensions:["x","y"],setBoundingRect:function(e,t,n,a){return this._rect=new r(e,t,n,a),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(e,t,n,a){this.transformTo(e,t,n,a),this._viewRect=new r(e,t,n,a)},transformTo:function(e,t,n,a){var i=this.getBoundingRect(),o=this._rawTransformable;o.transform=i.calculateTransform(new r(e,t,n,a)),o.decomposeTransform(),this._updateTransform()},setCenter:function(e){e&&(this._center=e,this._updateCenterAndZoom())},setZoom:function(e){e=e||1;var t=this.zoomLimit;t&&(null!=t.max&&(e=Math.min(t.max,e)),null!=t.min&&(e=Math.max(t.min,e))),this._zoom=e,this._updateCenterAndZoom()},getDefaultCenter:function(){var e=this.getBoundingRect();return[e.x+e.width/2,e.y+e.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var e=this._rawTransformable.getLocalTransform(),t=this._roamTransformable,n=this.getDefaultCenter(),a=this.getCenter(),o=this.getZoom();a=i.applyTransform([],a,e),n=i.applyTransform([],n,e),t.origin=a,t.position=[n[0]-a[0],n[1]-a[1]],t.scale=[o,o],this._updateTransform()},_updateTransform:function(){var e=this._roamTransformable,t=this._rawTransformable;t.parent=e,e.updateTransform(),t.updateTransform(),o.copy(this.transform||(this.transform=[]),t.transform||o.create()),this._rawTransform=t.getLocalTransform(),this.invTransform=this.invTransform||[],o.invert(this.invTransform,this.transform),this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},dataToPoint:function(e,t,n){var a=t?this._rawTransform:this.transform;return n=n||[],a?l(n,e,a):i.copy(n,e)},pointToData:function(e){var t=this.invTransform;return t?l([],e,t):[e[0],e[1]]},convertToPixel:a.curry(u,"dataToPoint"),convertFromPixel:a.curry(u,"pointToData"),containPoint:function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])}},a.mixin(c,s);var h=c;e.exports=h},418:function(e,t,n){var a=n(17),i=n(12),o=n(419);n(142),n(425),n(427),n(429),n(436),a.registerLayout(i.curry(o,"bar")),a.extendComponentView({type:"polar"})},419:function(e,t,n){var a=n(12),i=n(18).parsePercent,o=n(33).isDimensionStacked;function r(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function s(e){return e.dim}var l=function(e,t,n){n.getWidth(),n.getHeight();var l={},d=function(e,t){var n={};a.each(e,function(e,t){var a=e.getData(),o=e.coordinateSystem.getBaseAxis(),l=o.getExtent(),d="category"===o.type?o.getBandWidth():Math.abs(l[1]-l[0])/a.count(),c=n[s(o)]||{bandWidth:d,remainedWidth:d,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},u=c.stacks;n[s(o)]=c;var h=r(e);u[h]||c.autoWidthCount++,u[h]=u[h]||{width:0,maxWidth:0};var g=i(e.get("barWidth"),d),p=i(e.get("barMaxWidth"),d),f=e.get("barGap"),m=e.get("barCategoryGap");g&&!u[h].width&&(g=Math.min(c.remainedWidth,g),u[h].width=g,c.remainedWidth-=g),p&&(u[h].maxWidth=p),null!=f&&(c.gap=f),null!=m&&(c.categoryGap=m)});var o={};return a.each(n,function(e,t){o[t]={};var n=e.stacks,r=e.bandWidth,s=i(e.categoryGap,r),l=i(e.gap,1),d=e.remainedWidth,c=e.autoWidthCount,u=(d-s)/(c+(c-1)*l);u=Math.max(u,0),a.each(n,function(e,t){var n=e.maxWidth;n&&n<u&&(n=Math.min(n,d),e.width&&(n=Math.min(n,e.width)),d-=n,e.width=n,c--)}),u=(d-s)/(c+(c-1)*l),u=Math.max(u,0);var h,g=0;a.each(n,function(e,t){e.width||(e.width=u),h=e,g+=e.width*(1+l)}),h&&(g-=h.width*l);var p=-g/2;a.each(n,function(e,n){o[t][n]=o[t][n]||{offset:p,width:e.width},p+=e.width*(1+l)})}),o}(a.filter(t.getSeriesByType(e),function(e){return!t.isSeriesFiltered(e)&&e.coordinateSystem&&"polar"===e.coordinateSystem.type}));t.eachSeriesByType(e,function(e){if("polar"===e.coordinateSystem.type){var t=e.getData(),n=e.coordinateSystem,a=n.getBaseAxis(),i=r(e),c=d[s(a)][i],u=c.offset,h=c.width,g=n.getOtherAxis(a),p=e.coordinateSystem.cx,f=e.coordinateSystem.cy,m=e.get("barMinHeight")||0,y=e.get("barMinAngle")||0;l[i]=l[i]||[];for(var v=t.mapDimension(g.dim),x=t.mapDimension(a.dim),_=o(t,v),A=g.getExtent()[0],I=0,w=t.count();I<w;I++){var M=t.get(v,I),b=t.get(x,I);if(!isNaN(M)){var S,T,D,L,P=M>=0?"p":"n",C=A;if(_&&(l[i][b]||(l[i][b]={p:A,n:A}),C=l[i][b][P]),"radius"===g.dim){var E=g.dataToRadius(M)-A,k=a.dataToAngle(b);Math.abs(E)<m&&(E=(E<0?-1:1)*m),S=C,T=C+E,L=(D=k-u)-h,_&&(l[i][b][P]=T)}else{var N=g.dataToAngle(M,!0)-A,B=a.dataToRadius(b);Math.abs(N)<y&&(N=(N<0?-1:1)*y),T=(S=B+u)+h,D=C,L=C+N,_&&(l[i][b][P]=L)}t.setItemLayout(I,{cx:p,cy:f,r0:S,r:T,startAngle:-D*Math.PI/180,endAngle:-L*Math.PI/180})}}}},this)};e.exports=l},420:function(e,t,n){var a=n(421),i=n(422),o=function(e){this.name=e||"",this.cx=0,this.cy=0,this._radiusAxis=new a,this._angleAxis=new i,this._radiusAxis.polar=this._angleAxis.polar=this};o.prototype={type:"polar",axisPointerEnabled:!0,constructor:o,dimensions:["radius","angle"],model:null,containPoint:function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},containData:function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},getAxis:function(e){return this["_"+e+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(e){var t=[],n=this._angleAxis,a=this._radiusAxis;return n.scale.type===e&&t.push(n),a.scale.type===e&&t.push(a),t},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(e){var t=null!=e&&"auto"!==e?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},dataToPoint:function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},pointToData:function(e,t){var n=this.pointToCoord(e);return[this._radiusAxis.radiusToData(n[0],t),this._angleAxis.angleToData(n[1],t)]},pointToCoord:function(e){var t=e[0]-this.cx,n=e[1]-this.cy,a=this.getAngleAxis(),i=a.getExtent(),o=Math.min(i[0],i[1]),r=Math.max(i[0],i[1]);a.inverse?o=r-360:r=o+360;var s=Math.sqrt(t*t+n*n);t/=s,n/=s;for(var l=Math.atan2(-n,t)/Math.PI*180,d=l<o?1:-1;l<o||l>r;)l+=360*d;return[s,l]},coordToPoint:function(e){var t=e[0],n=e[1]/180*Math.PI;return[Math.cos(n)*t+this.cx,-Math.sin(n)*t+this.cy]}};var r=o;e.exports=r},421:function(e,t,n){var a=n(12),i=n(89);function o(e,t){i.call(this,"radius",e,t),this.type="category"}o.prototype={constructor:o,pointToData:function(e,t){return this.polar.pointToData(e,t)["radius"===this.dim?0:1]},dataToRadius:i.prototype.dataToCoord,radiusToData:i.prototype.coordToData},a.inherits(o,i);var r=o;e.exports=r},422:function(e,t,n){var a=n(12),i=n(41),o=n(89),r=(0,n(14).makeInner)();function s(e,t){t=t||[0,360],o.call(this,"angle",e,t),this.type="category"}s.prototype={constructor:s,pointToData:function(e,t){return this.polar.pointToData(e,t)["radius"===this.dim?0:1]},dataToAngle:o.prototype.dataToCoord,angleToData:o.prototype.coordToData,calculateCategoryInterval:function(){var e=this.getLabelModel(),t=this.scale,n=t.getExtent(),a=t.count();if(n[1]-n[0]<1)return 0;var o=n[0],s=this.dataToCoord(o+1)-this.dataToCoord(o),l=Math.abs(s),d=i.getBoundingRect(o,e.getFont(),"center","top"),c=Math.max(d.height,7)/l;isNaN(c)&&(c=1/0);var u=Math.max(0,Math.floor(c)),h=r(this.model),g=h.lastAutoInterval,p=h.lastTickCount;return null!=g&&null!=p&&Math.abs(g-u)<=1&&Math.abs(p-a)<=1&&g>u?u=g:(h.lastTickCount=a,h.lastAutoInterval=u),u}},a.inherits(s,o);var l=s;e.exports=l},423:function(e,t,n){var a=n(17);n(424);var i=a.extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(e){var t;return this.ecModel.eachComponent(e,function(e){e.getCoordSysModel()===this&&(t=e)},this),t},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});e.exports=i},424:function(e,t,n){var a=n(12),i=n(31),o=n(215),r=n(136),s=i.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});a.merge(s.prototype,r);var l={splitNumber:5};function d(e,t){return t.type||(t.data?"category":"value")}o("angle",s,d,{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}}),o("radius",s,d,l)},425:function(e,t,n){n(142),n(426)},426:function(e,t,n){var a=n(12),i=n(15),o=n(29),r=n(68),s=["axisLine","axisLabel","axisTick","splitLine","splitArea"];function l(e,t,n){t[1]>t[0]&&(t=t.slice().reverse());var a=e.coordToPoint([t[0],n]),i=e.coordToPoint([t[1],n]);return{x1:a[0],y1:a[1],x2:i[0],y2:i[1]}}function d(e){return e.getRadiusAxis().inverse?0:1}function c(e){var t=e[0],n=e[e.length-1];t&&n&&Math.abs(Math.abs(t.coord-n.coord)-360)<1e-4&&e.pop()}var u=r.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(e,t){if(this.group.removeAll(),e.get("show")){var n=e.axis,i=n.polar,o=i.getRadiusAxis().getExtent(),r=n.getTicksCoords(),l=a.map(n.getViewLabels(),function(e){return(e=a.clone(e)).coord=n.dataToCoord(e.tickValue),e});c(l),c(r),a.each(s,function(t){!e.get(t+".show")||n.scale.isBlank()&&"axisLine"!==t||this["_"+t](e,i,r,o,l)},this)}},_axisLine:function(e,t,n,a){var o=e.getModel("axisLine.lineStyle"),r=new i.Circle({shape:{cx:t.cx,cy:t.cy,r:a[d(t)]},style:o.getLineStyle(),z2:1,silent:!0});r.style.fill=null,this.group.add(r)},_axisTick:function(e,t,n,o){var r=e.getModel("axisTick"),s=(r.get("inside")?-1:1)*r.get("length"),c=o[d(t)],u=a.map(n,function(e){return new i.Line({shape:l(t,[c,c+s],e.coord)})});this.group.add(i.mergePath(u,{style:a.defaults(r.getModel("lineStyle").getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")})}))},_axisLabel:function(e,t,n,r,s){var l=e.getCategories(!0),c=e.getModel("axisLabel"),u=c.get("margin");a.each(s,function(n,a){var s=c,h=n.tickValue,g=r[d(t)],p=t.coordToPoint([g+u,n.coord]),f=t.cx,m=t.cy,y=Math.abs(p[0]-f)/g<.3?"center":p[0]>f?"left":"right",v=Math.abs(p[1]-m)/g<.3?"middle":p[1]>m?"top":"bottom";l&&l[h]&&l[h].textStyle&&(s=new o(l[h].textStyle,c,c.ecModel));var x=new i.Text({silent:!0});this.group.add(x),i.setTextStyle(x.style,s,{x:p[0],y:p[1],textFill:s.getTextColor()||e.get("axisLine.lineStyle.color"),text:n.formattedLabel,textAlign:y,textVerticalAlign:v})},this)},_splitLine:function(e,t,n,o){var r=e.getModel("splitLine").getModel("lineStyle"),s=r.get("color"),d=0;s=s instanceof Array?s:[s];for(var c=[],u=0;u<n.length;u++){var h=d++%s.length;c[h]=c[h]||[],c[h].push(new i.Line({shape:l(t,o,n[u].coord)}))}for(u=0;u<c.length;u++)this.group.add(i.mergePath(c[u],{style:a.defaults({stroke:s[u%s.length]},r.getLineStyle()),silent:!0,z:e.get("z")}))},_splitArea:function(e,t,n,o){if(n.length){var r=e.getModel("splitArea").getModel("areaStyle"),s=r.get("color"),l=0;s=s instanceof Array?s:[s];for(var d=[],c=Math.PI/180,u=-n[0].coord*c,h=Math.min(o[0],o[1]),g=Math.max(o[0],o[1]),p=e.get("clockwise"),f=1;f<n.length;f++){var m=l++%s.length;d[m]=d[m]||[],d[m].push(new i.Sector({shape:{cx:t.cx,cy:t.cy,r0:h,r:g,startAngle:u,endAngle:-n[f].coord*c,clockwise:p},silent:!0})),u=-n[f].coord*c}for(f=0;f<d.length;f++)this.group.add(i.mergePath(d[f],{style:a.defaults({fill:s[f%s.length]},r.getAreaStyle()),silent:!0}))}}});e.exports=u},427:function(e,t,n){n(142),n(428)},428:function(e,t,n){var a=n(12),i=n(15),o=n(90),r=n(68),s=["axisLine","axisTickLabel","axisName"],l=["splitLine","splitArea"],d=r.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(e,t){if(this.group.removeAll(),e.get("show")){var n=e.axis,i=n.polar,r=i.getAngleAxis(),d=n.getTicksCoords(),c=r.getExtent()[0],u=n.getExtent(),h=function(e,t,n){return{position:[e.cx,e.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}(i,e,c),g=new o(e,h);a.each(s,g.add,g),this.group.add(g.getGroup()),a.each(l,function(t){e.get(t+".show")&&!n.scale.isBlank()&&this["_"+t](e,i,c,u,d)},this)}},_splitLine:function(e,t,n,o,r){var s=e.getModel("splitLine").getModel("lineStyle"),l=s.get("color"),d=0;l=l instanceof Array?l:[l];for(var c=[],u=0;u<r.length;u++){var h=d++%l.length;c[h]=c[h]||[],c[h].push(new i.Circle({shape:{cx:t.cx,cy:t.cy,r:r[u].coord},silent:!0}))}for(u=0;u<c.length;u++)this.group.add(i.mergePath(c[u],{style:a.defaults({stroke:l[u%l.length],fill:null},s.getLineStyle()),silent:!0}))},_splitArea:function(e,t,n,o,r){if(r.length){var s=e.getModel("splitArea").getModel("areaStyle"),l=s.get("color"),d=0;l=l instanceof Array?l:[l];for(var c=[],u=r[0].coord,h=1;h<r.length;h++){var g=d++%l.length;c[g]=c[g]||[],c[g].push(new i.Sector({shape:{cx:t.cx,cy:t.cy,r0:u,r:r[h].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),u=r[h].coord}for(h=0;h<c.length;h++)this.group.add(i.mergePath(c[h],{style:a.defaults({fill:l[h%l.length]},s.getAreaStyle()),silent:!0}))}}});e.exports=d},429:function(e,t,n){var a=n(17),i=n(12),o=n(91),r=n(430);n(432),n(433),n(435),a.registerPreprocessor(function(e){if(e){(!e.axisPointer||0===e.axisPointer.length)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!i.isArray(t)&&(e.axisPointer.link=[t])}}),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=o.collect(e,t)}),a.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},r)},430:function(e,t,n){var a=n(12),i=n(14).makeInner,o=n(91),r=n(431),s=a.each,l=a.curry,d=i();function c(e,t,n,i,o){var r=e.axis;if(!r.scale.isBlank()&&r.containData(t))if(e.involveSeries){var l=function(e,t){var n=t.axis,a=n.dim,i=e,o=[],r=Number.MAX_VALUE,l=-1;return s(t.seriesModels,function(t,d){var c,u,h=t.getData().mapDimension(a,!0);if(t.getAxisTooltipData){var g=t.getAxisTooltipData(h,e,n);u=g.dataIndices,c=g.nestestValue}else{if(!(u=t.getData().indicesOfNearest(h[0],e,"category"===n.type?.5:null)).length)return;c=t.getData().get(h[0],u[0])}if(null!=c&&isFinite(c)){var p=e-c,f=Math.abs(p);f<=r&&((f<r||p>=0&&l<0)&&(r=f,l=p,i=c,o.length=0),s(u,function(e){o.push({seriesIndex:t.seriesIndex,dataIndexInside:e,dataIndex:t.getData().getRawIndex(e)})}))}}),{payloadBatch:o,snapToValue:i}}(t,e),d=l.payloadBatch,c=l.snapToValue;d[0]&&null==o.seriesIndex&&a.extend(o,d[0]),!i&&e.snap&&r.containData(c)&&null!=c&&(t=c),n.showPointer(e,t,d,o),n.showTooltip(e,l,c)}else n.showPointer(e,t)}function u(e,t,n,a){e[t.key]={value:n,payloadBatch:a}}function h(e,t,n,a){var i=n.payloadBatch,r=t.axis,s=r.model,l=t.axisPointerModel;if(t.triggerTooltip&&i.length){var d=t.coordSys.model,c=o.makeKey(d),u=e.map[c];u||(u=e.map[c]={coordSysId:d.id,coordSysIndex:d.componentIndex,coordSysType:d.type,coordSysMainType:d.mainType,dataByAxis:[]},e.list.push(u)),u.dataByAxis.push({axisDim:r.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:a,valueLabelOpt:{precision:l.get("label.precision"),formatter:l.get("label.formatter")},seriesDataIndices:i.slice()})}}function g(e){var t=e.axis.model,n={},a=n.axisDim=e.axis.dim;return n.axisIndex=n[a+"AxisIndex"]=t.componentIndex,n.axisName=n[a+"AxisName"]=t.name,n.axisId=n[a+"AxisId"]=t.id,n}function p(e){return!e||null==e[0]||isNaN(e[0])||null==e[1]||isNaN(e[1])}e.exports=function(e,t,n){var i=e.currTrigger,o=[e.x,e.y],f=e,m=e.dispatchAction||a.bind(n.dispatchAction,n),y=t.getComponent("axisPointer").coordSysAxesInfo;if(y){p(o)&&(o=r({seriesIndex:f.seriesIndex,dataIndex:f.dataIndex},t).point);var v=p(o),x=f.axesInfo,_=y.axesInfo,A="leave"===i||p(o),I={},w={},M={list:[],map:{}},b={showPointer:l(u,w),showTooltip:l(h,M)};s(y.coordSysMap,function(e,t){var n=v||e.containPoint(o);s(y.coordSysAxesInfo[t],function(e,t){var a=e.axis,i=function(e,t){for(var n=0;n<(e||[]).length;n++){var a=e[n];if(t.axis.dim===a.axisDim&&t.axis.model.componentIndex===a.axisIndex)return a}}(x,e);if(!A&&n&&(!x||i)){var r=i&&i.value;null!=r||v||(r=a.pointToData(o)),null!=r&&c(e,r,b,!1,I)}})});var S={};return s(_,function(e,t){var n=e.linkGroup;n&&!w[t]&&s(n.axesInfo,function(t,a){var i=w[a];if(t!==e&&i){var o=i.value;n.mapper&&(o=e.axis.scale.parse(n.mapper(o,g(t),g(e)))),S[e.key]=o}})}),s(S,function(e,t){c(_[t],e,b,!0,I)}),function(e,t,n){var a=n.axesInfo=[];s(t,function(t,n){var i=t.axisPointerModel.option,o=e[n];o?(!t.useHandle&&(i.status="show"),i.value=o.value,i.seriesDataIndices=(o.payloadBatch||[]).slice()):!t.useHandle&&(i.status="hide"),"show"===i.status&&a.push({axisDim:t.axis.dim,axisIndex:t.axis.model.componentIndex,value:i.value})})}(w,_,I),function(e,t,n,a){if(p(t)||!e.list.length)return void a({type:"hideTip"});var i=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};a({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:e.list})}(M,o,e,m),function(e,t,n){var i=n.getZr(),o=d(i).axisPointerLastHighlights||{},r=d(i).axisPointerLastHighlights={};s(e,function(e,t){var n=e.axisPointerModel.option;"show"===n.status&&s(n.seriesDataIndices,function(e){var t=e.seriesIndex+" | "+e.dataIndex;r[t]=e})});var l=[],c=[];a.each(o,function(e,t){!r[t]&&c.push(e)}),a.each(r,function(e,t){!o[t]&&l.push(e)}),c.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,batch:c}),l.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,batch:l})}(_,0,n),I}}},431:function(e,t,n){var a=n(12),i=n(14);e.exports=function(e,t){var n,o=[],r=e.seriesIndex;if(null==r||!(n=t.getSeriesByIndex(r)))return{point:[]};var s=n.getData(),l=i.queryDataIndex(s,e);if(null==l||l<0||a.isArray(l))return{point:[]};var d=s.getItemGraphicEl(l),c=n.coordinateSystem;if(n.getTooltipPosition)o=n.getTooltipPosition(l)||[];else if(c&&c.dataToPoint)o=c.dataToPoint(s.getValues(a.map(c.dimensions,function(e){return s.mapDimension(e)}),l,!0))||[];else if(d){var u=d.getBoundingRect().clone();u.applyTransform(d.transform),o=[u.x+u.width/2,u.y+u.height/2]}return{point:o,el:d}}},432:function(e,t,n){var a=n(17).extendComponentModel({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}});e.exports=a},433:function(e,t,n){var a=n(17),i=n(434),o=a.extendComponentView({type:"axisPointer",render:function(e,t,n){var a=t.getComponent("tooltip"),o=e.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";i.register("axisPointer",n,function(e,t,n){"none"!==o&&("leave"===e||o.indexOf(e)>=0)&&n({type:"updateAxisPointer",currTrigger:e,x:t&&t.offsetX,y:t&&t.offsetY})})},remove:function(e,t){i.unregister(t.getZr(),"axisPointer"),o.superApply(this._model,"remove",arguments)},dispose:function(e,t){i.unregister("axisPointer",t),o.superApply(this._model,"dispose",arguments)}}),r=o;e.exports=r},434:function(e,t,n){var a=n(12),i=n(23),o=(0,n(14).makeInner)(),r=a.each;function s(e,t,n){e.handler("leave",null,n)}function l(e,t,n,a){t.handler(e,n,a)}t.register=function(e,t,n){if(!i.node){var d=t.getZr();o(d).records||(o(d).records={}),function(e,t){if(o(e).initialized)return;function n(n,a){e.on(n,function(n){var i=function(e){var t={showTip:[],hideTip:[]},n=function(a){var i=t[a.type];i?i.push(a):(a.dispatchAction=n,e.dispatchAction(a))};return{dispatchAction:n,pendings:t}}(t);r(o(e).records,function(e){e&&a(e,n,i.dispatchAction)}),function(e,t){var n,a=e.showTip.length,i=e.hideTip.length;a?n=e.showTip[a-1]:i&&(n=e.hideTip[i-1]);n&&(n.dispatchAction=null,t.dispatchAction(n))}(i.pendings,t)})}o(e).initialized=!0,n("click",a.curry(l,"click")),n("mousemove",a.curry(l,"mousemove")),n("globalout",s)}(d,t),(o(d).records[e]||(o(d).records[e]={})).handler=n}},t.unregister=function(e,t){if(!i.node){var n=t.getZr();(o(n).records||{})[e]&&(o(n).records[e]=null)}}},435:function(e,t,n){var a=n(15),i=n(225),o=n(226),r=n(216),s=n(68),l=i.extend({makeElOption:function(e,t,n,a,i){var s=n.axis,l=s.grid,u=a.get("type"),h=d(l,s).getOtherAxis(s).getGlobalExtent(),g=s.toGlobalCoord(s.dataToCoord(t,!0));if(u&&"none"!==u){var p=o.buildElStyle(a),f=c[u](s,g,h,p);f.style=p,e.graphicKey=f.type,e.pointer=f}var m=r.layout(l.model,n);o.buildCartesianSingleLabelElOption(t,e,m,n,a,i)},getHandleTransform:function(e,t,n){var a=r.layout(t.axis.grid.model,t,{labelInside:!1});return a.labelMargin=n.get("handle.margin"),{position:o.getTransformedPosition(t.axis,e,a),rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(e,t,n,a){var i=n.axis,o=i.grid,r=i.getGlobalExtent(!0),s=d(o,i).getOtherAxis(i).getGlobalExtent(),l="x"===i.dim?0:1,c=e.position;c[l]+=t[l],c[l]=Math.min(r[1],c[l]),c[l]=Math.max(r[0],c[l]);var u=(s[1]+s[0])/2,h=[u,u];h[l]=c[l];return{position:c,rotation:e.rotation,cursorPoint:h,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][l]}}});function d(e,t){var n={};return n[t.dim+"AxisIndex"]=t.index,e.getCartesian(n)}var c={line:function(e,t,n,i){var r=o.makeLineShape([t,n[0]],[t,n[1]],u(e));return a.subPixelOptimizeLine({shape:r,style:i}),{type:"Line",shape:r}},shadow:function(e,t,n,a){var i=Math.max(1,e.getBandWidth()),r=n[1]-n[0];return{type:"Rect",shape:o.makeRectShape([t-i/2,n[0]],[i,r],u(e))}}};function u(e){return"x"===e.dim?0:1}s.registerAxisPointerClass("CartesianAxisPointer",l);var h=l;e.exports=h},436:function(e,t,n){var a=n(25),i=n(225),o=n(15),r=n(226),s=n(27),l=n(90),d=n(68),c=i.extend({makeElOption:function(e,t,n,i,d){var c=n.axis;"angle"===c.dim&&(this.animationThreshold=Math.PI/18);var h,g=c.polar,p=g.getOtherAxis(c).getExtent();h=c["dataTo"+a.capitalFirst(c.dim)](t);var f=i.get("type");if(f&&"none"!==f){var m=r.buildElStyle(i),y=u[f](c,g,h,p,m);y.style=m,e.graphicKey=y.type,e.pointer=y}var v=function(e,t,n,a,i){var r=t.axis,d=r.dataToCoord(e),c=a.getAngleAxis().getExtent()[0];c=c/180*Math.PI;var u,h,g,p=a.getRadiusAxis().getExtent();if("radius"===r.dim){var f=s.create();s.rotate(f,f,c),s.translate(f,f,[a.cx,a.cy]),u=o.applyTransform([d,-i],f);var m=t.getModel("axisLabel").get("rotate")||0,y=l.innerTextLayout(c,m*Math.PI/180,-1);h=y.textAlign,g=y.textVerticalAlign}else{var v=p[1];u=a.coordToPoint([v+i,d]);var x=a.cx,_=a.cy;h=Math.abs(u[0]-x)/v<.3?"center":u[0]>x?"left":"right",g=Math.abs(u[1]-_)/v<.3?"middle":u[1]>_?"top":"bottom"}return{position:u,align:h,verticalAlign:g}}(t,n,0,g,i.get("label.margin"));r.buildLabelElOption(e,n,i,d,v)}});var u={line:function(e,t,n,a,i){return"angle"===e.dim?{type:"Line",shape:r.makeLineShape(t.coordToPoint([a[0],n]),t.coordToPoint([a[1],n]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:n}}},shadow:function(e,t,n,a,i){var o=Math.max(1,e.getBandWidth()),s=Math.PI/180;return"angle"===e.dim?{type:"Sector",shape:r.makeSectorShape(t.cx,t.cy,a[0],a[1],(-n-o/2)*s,(o/2-n)*s)}:{type:"Sector",shape:r.makeSectorShape(t.cx,t.cy,n-o/2,n+o/2,0,2*Math.PI)}}};d.registerAxisPointerClass("PolarAxisPointer",c);var h=c;e.exports=h}}]);